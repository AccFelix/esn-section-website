<div
  *ngIf="contentInfo$ | async as contentItemList; else loading"
  class="outer-imgbox"
>
  <div *ngFor="let c of contentItemList" class="px-4 mb-20">
    <!-- text left img right -->
    <ng-container *ngIf="c.Layout === 'Text_left_img_right'">
      <div class="title-div">
        <p class="title-p">{{ c.Title }}</p>
      </div>
      <div
        [ngClass]="{
          'font-body text-lg border border-graylight shadow-xl p-8':
            c.Wrap_in_shadow_box
        }"
        class="overflow-auto"
      >
        <div *ngIf="c.Image" class="m-auto">
          <figure class="float-right-fig">
            <img
              *ngIf="c.Image.formats?.medium"
              src="{{ strapiLink }}{{ c.Image.formats.medium.url }}"
              alt="{{ c.Image.alternativeText }}"
            />
            <img
              *ngIf="!c.Image.formats?.medium"
              src="{{ strapiLink }}{{ c.Image.url }}"
              alt="{{ c.Image.alternativeText }}"
            />
          </figure>
          <div *ngIf="c.Text"><markdown [data]="c.Text"></markdown></div>
        </div>
        <div *ngIf="!c.Image" class="m-auto font-body text-lg">
          <markdown [data]="c.Text"></markdown>
        </div>
      </div>
    </ng-container>
    <!-- text right img left -->
    <div *ngIf="c.Layout === 'Text_right_img_left'" class="mb-2">
      <div class="title-div">
        <p class="title-p">{{ c.Title }}</p>
      </div>
      <div
        [ngClass]="{
          'font-body text-lg border border-graylight shadow-xl p-8':
            c.Wrap_in_shadow_box
        }"
        class="overflow-auto"
      >
        <div *ngIf="c.Image" class="m-auto mb-4">
          <figure class="float-left-fig">
            <img
              *ngIf="c.Image.formats?.medium"
              src="{{ strapiLink }}{{ c.Image.formats.medium.url }}"
              alt="{{ c.Image.alternativeText }}"
            />
            <img
              *ngIf="!c.Image.formats?.medium"
              src="{{ strapiLink }}{{ c.Image.url }}"
              alt="{{ c.Image.alternativeText }}"
            />
          </figure>
          <div *ngIf="c.Text"><markdown [data]="c.Text"></markdown></div>
        </div>
        <div *ngIf="!c.Image" class="m-auto font-body text-lg">
          <markdown [data]="c.Text"></markdown>
        </div>
      </div>
    </div>
    <!-- text below img above -->
    <ng-container *ngIf="c.Layout === 'Text_below_img_above'">
      <div class="title-div">
        <p class="title-p">{{ c.Title }}</p>
      </div>
      <div
        [ngClass]="{
          'font-body text-lg border border-graylight shadow-xl p-8':
            c.Wrap_in_shadow_box
        }"
        class="flex flex-col"
      >
        <div *ngIf="c.Image" class="px-4">
          <img
            *ngIf="c.Image.formats?.medium"
            class="m-auto py-4"
            src="{{ strapiLink }}{{ c.Image.formats.medium.url }}"
            alt="{{ c.Image.alternativeText }}"
          />
          <img
            *ngIf="!c.Image.formats?.medium"
            class="m-auto py-4"
            src="{{ strapiLink }}{{ c.Image.url }}"
            alt="{{ c.Image.alternativeText }}"
          />
        </div>
        <div *ngIf="c.Text">
          <markdown [data]="c.Text"></markdown>
        </div>
      </div>
    </ng-container>
    <!-- text above img below -->
    <ng-container *ngIf="c.Layout === 'Text_above_img_below'">
      <div class="title-div">
        <p class="title-p">{{ c.Title }}</p>
      </div>
      <div
        [ngClass]="{
          'font-body text-lg border border-graylight shadow-xl p-8':
            c.Wrap_in_shadow_box
        }"
        class="flex flex-col"
      >
        <ng-container *ngIf="c.Text"
          ><markdown [data]="c.Text"></markdown
        ></ng-container>
        <div *ngIf="c.Image" class="px-4">
          <img
            *ngIf="c.Image.formats?.medium"
            class="m-auto py-4 w-3/5"
            src="{{ strapiLink }}{{ c.Image.formats.medium.url }}"
            alt="{{ c.Image.alternativeText }}"
          />
          <img
            *ngIf="!c.Image.formats?.medium"
            class="m-auto py-4 w-3/5"
            src="{{ strapiLink }}{{ c.Image.url }}"
            alt="{{ c.Image.alternativeText }}"
          />
        </div>
      </div>
    </ng-container>
  </div>
</div>
<ng-template #loading>
  <img
    width="200px"
    class="m-auto mb-26"
    src="assets/social/ESN-star-spinner.gif"
/></ng-template>
