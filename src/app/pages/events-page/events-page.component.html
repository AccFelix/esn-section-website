<div *ngIf="globals$ | async as globals; else loading">
  <div class="outer-div">
    <div class="px-8 mb-24">
      <div class="title-div">
        <p class="title-p">Find our newest events here.</p>
      </div>
      <div class="font-body text-lg border border-graylight shadow-xl p-8">
        <div class="m-auto block font-body text-lg mb-8">
          <markdown [data]="globals?.eventPageText"></markdown>
        </div>
        <ng-container *ngIf="!globals?.usePretixCalendar; else pretixCalendar">
          <app-custom-calendar></app-custom-calendar>
        </ng-container>
        <ng-template #pretixCalendar>
          <div *ngIf="!loadPretix" class="relative w-full">
            <img
              src="../../../assets/pretix/pretix-blur.png"
              alt="Blurred Pretix Calendar"
              class="w-full h-auto"
            />
            <button
              class="absolute top-1/2 left-1/2 blue transition ease-in-out duration-150 buttontransform border px-3 py-1 rounded bg-slate-200 hover:bg-slate-50"
              (click)="setLoadPretix()"
            >
              Accept cookies & load calendar
            </button>
          </div>
          <app-pretix-calendar *ngIf="loadPretix"></app-pretix-calendar>
        </ng-template>
        <markdown class="text-gray">
          If you can't see any calendar here, please switch to another tab on
          this website (e.g.
          <a routerLink="/esncard" class="text-gray">ESNcard & partners</a>
          and then come back to this site.
        </markdown>
      </div>
    </div>
  </div>
</div>
<ng-template #loading><div class="loader"></div></ng-template>
