<div *ngIf="contentInfo$ | async as contentItemList" class="outer-imgbox">
  <div *ngFor="let c of contentItemList" class="px-4 mb-20">
    <!-- text left img right -->
    <ng-container *ngIf="c.Layout === 'Text_left_img_right'">
      <div class="title-div">
        <p class="title-p">{{ c.Title }}</p>
      </div>
      <div
        [ngClass]="{
          'font-body text-lg border border-graylight shadow-xl p-8':
            c.Wrap_in_shadow_box
        }"
      >
        <div *ngIf="c.Image" class="m-auto overflow-hidden">
          <figure class="float-right-fig">
            <img
              *ngIf="c.Image.formats?.medium"
              src="{{ strapiLink }}{{ c.Image.formats.medium.url }}"
              alt="{{ c.Image.alternativeText }}"
            />
            <img
              *ngIf="!c.Image.formats?.medium"
              src="{{ strapiLink }}{{ c.Image.url }}"
              alt="{{ c.Image.alternativeText }}"
            />
          </figure>
          <div *ngIf="c.Text"><markdown [data]="c.Text"></markdown></div>
        </div>
        <div *ngIf="!c.Image" class="m-auto font-body text-lg">
          <markdown [data]="c.Text"></markdown>
        </div>
      </div>
    </ng-container>
    <!-- text right img left -->
    <div *ngIf="c.Layout === 'Text_right_img_left'" class="mb-2">
      <div class="title-div">
        <p class="title-p">{{ c.Title }}</p>
      </div>
      <div
        [ngClass]="{
          'font-body text-lg border border-graylight shadow-xl p-8':
            c.Wrap_in_shadow_box
        }"
      >
        <div *ngIf="c.Image" class="m-auto mb-4 overflow-hidden">
          <figure class="float-left-fig">
            <img
              *ngIf="c.Image.formats?.medium"
              src="{{ strapiLink }}{{ c.Image.formats.medium.url }}"
              alt="{{ c.Image.alternativeText }}"
            />
            <img
              *ngIf="!c.Image.formats?.medium"
              src="{{ strapiLink }}{{ c.Image.url }}"
              alt="{{ c.Image.alternativeText }}"
            />
          </figure>
          <div *ngIf="c.Text"><markdown [data]="c.Text"></markdown></div>
        </div>
        <div *ngIf="!c.Image" class="m-auto font-body text-lg">
          <markdown [data]="c.Text"></markdown>
        </div>
      </div>
    </div>
    <!-- text below img above -->
    <ng-container *ngIf="c.Layout === 'Text_below_img_above'">
      <div class="title-div">
        <p class="title-p">{{ c.Title }}</p>
      </div>
      <div
        [ngClass]="{
          'font-body text-lg border border-graylight shadow-xl p-8':
            c.Wrap_in_shadow_box
        }"
        class="flex items-center flex-col"
      >
        <div *ngIf="c.Image" class="px-4">
          <img
            *ngIf="c.Image.formats?.medium"
            class="m-auto py-4"
            src="{{ strapiLink }}{{ c.Image.formats.medium.url }}"
            alt="{{ c.Image.alternativeText }}"
          />
          <img
            *ngIf="!c.Image.formats?.medium"
            class="m-auto py-4"
            src="{{ strapiLink }}{{ c.Image.url }}"
            alt="{{ c.Image.alternativeText }}"
          />
        </div>
        <div *ngIf="c.Text"><markdown [data]="c.Text"></markdown></div>
      </div>
    </ng-container>
    <!-- text above img below -->
    <ng-container *ngIf="c.Layout === 'Text_above_img_below'">
      <div class="title-div">
        <p class="title-p">{{ c.Title }}</p>
      </div>
      <div
        [ngClass]="{
          'font-body text-lg border border-graylight shadow-xl p-8':
            c.Wrap_in_shadow_box
        }"
        class="flex items-center flex-col"
      >
        <ng-container *ngIf="c.Text"
          ><markdown [data]="c.Text"></markdown
        ></ng-container>
        <div *ngIf="c.Image" class="px-4">
          <img
            *ngIf="c.Image.formats?.medium"
            class="m-auto py-4 w-3/5"
            src="{{ strapiLink }}{{ c.Image.formats.medium.url }}"
            alt="{{ c.Image.alternativeText }}"
          />
          <img
            *ngIf="!c.Image.formats?.medium"
            class="m-auto py-4 w-3/5"
            src="{{ strapiLink }}{{ c.Image.url }}"
            alt="{{ c.Image.alternativeText }}"
          />
        </div>
      </div>
    </ng-container>
  </div>
</div>
<div
  class="max-w-screen-xl p-8 sm:p-0 m-auto sm:px-16 xl:mt-16 lg:mt-8 sm:mt-4"
  *ngIf="globals$ | async as globals"
>
  <ng-container *ngIf="partnerInfo$ | async as partnerItemList">
    <ng-container *ngIf="partnerItemList.length > 0">
      <div class="title-div">
        <p class="title-p">Our Local Partners in {{ cityName }}</p>
      </div>
    </ng-container>
  </ng-container>
</div>
<div class="max-w-screen-2xl m-auto mb-24">
  <ng-container *ngIf="partnerInfo$ | async as partnerItemList">
    <div
      class="mx-8 flex flex-wrap items-end justify-evenly font-body text-lg border border-graylight shadow-xl p-8"
      *ngIf="partnerItemList.length > 0"
    >
      <div
        *ngFor="let partner of partnerItemList"
        class="flex flex-wrap items-end justify-evenly flexb3"
      >
        <figure class="m-2">
          <a href="{{ partner.Link }}" target="_blank" rel="noopener" class=""
            ><img
              *ngIf="partner.Main_image.formats.medium"
              class="imgh m-auto zoom"
              src="{{ strapiLink }}{{ partner.Main_image.formats.medium.url }}"
              alt="{{ partner.Main_image.alternativeText }}"
          /></a>
          <a href="{{ partner.Link }}" target="_blank" rel="noopener" class=""
            ><img
              *ngIf="
                partner.Main_image.formats.thumbnail &&
                !partner.Main_image.formats.medium
              "
              class="imgh m-auto zoom"
              src="{{ strapiLink }}{{
                partner.Main_image.formats.thumbnail.url
              }}"
              alt="{{ partner.Main_image.alternativeText }}"
          /></a>
          <figcaption class="pt-4 text-center font-bold">
            {{ partner.Name }}
            <br />
            <button
              *ngIf="partner.Deal"
              (click)="toggleInfo(partner)"
              class="text-esn-dark-blue hover:underline"
            >
              {{ partner.buttonText }}
            </button>
            <br />
            <p class="font-normal text-left" [hidden]="!partner.show">
              {{ partner.Deal }}
            </p>
          </figcaption>
        </figure>
      </div>
    </div>
  </ng-container>
</div>
<div
  class="max-w-screen-xl p-8 sm:p-0 m-auto sm:px-16 xl:mt-16 lg:mt-8 sm:mt-4"
>
  <ng-container *ngIf="nationalPartner$ | async as partners">
    <ng-container *ngIf="partners.length > 0">
      <div class="title-div">
        <p class="title-p">Our National Partners from ESN Germany</p>
      </div>
    </ng-container>
  </ng-container>
</div>
<div class="max-w-screen-2xl m-auto mb-24">
  <app-national-partners></app-national-partners>
</div>
